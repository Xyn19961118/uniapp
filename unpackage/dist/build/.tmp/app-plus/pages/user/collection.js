(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/collection"],{"09b9":function(t,e,s){"use strict";(function(t){s("3e9c"),s("921b");o(s("66fd"));var e=o(s("65df"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,s("6e42")["createPage"])},"4c85":function(t,e,s){"use strict";s.r(e);var o=s("54df"),n=s.n(o);for(var i in o)"default"!==i&&function(t){s.d(e,t,function(){return o[t]})}(i);e["default"]=n.a},"54df":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s("2355"),n=new o.UserModel,i=function(){return Promise.all([s.e("common/vendor"),s.e("components/user/common/nav")]).then(s.bind(null,"159b"))},l=function(){return s.e("components/common/select").then(s.bind(null,"547a"))},c=function(){return s.e("components/user/collect/content").then(s.bind(null,"f09b"))},r={components:{Nav:i,Select:l,Content:c},data:function(){return{navList:["商品收藏","店铺收藏"],curr:0,dataObj:{},goodsColl:!1,shopColl:!1,editType:!1,editTxt:"编辑",editTxtOver:"完成",isSelectAll:0,shopIds:[],goodsIds:[]}},onLoad:function(t){var e=this;n.collect(function(t){var s=t;s.goods.forEach(function(t){t.isSelect=0}),s.shop.forEach(function(t){t.isSelect=0}),e.dataObj=s})},methods:{setCurr:function(t){var e=this.dataObj;for(var s in e.goods)e.goods[s].isSelect=!1;for(var o in e.shop)e.shop[o].isSelect=!1;this.curr=t,this.editType=!1,this.goodsColl=!1,this.shopColl=!1,this.isSelectAll=0,this.shopIds=[],this.goodsIds=[],this.dataObj=e},handleEdit:function(t){var e=this.curr,s=this.goodsColl,o=this.shopColl,n=this.editType;0==e?(n=!n,s=!s,this.editType=n,this.goodsColl=s):(n=!n,o=!o,this.editType=n,this.shopColl=o)},selectAll:function(t){var e=this.isSelectAll,s=this.dataObj,o=this.curr,n=this.shopIds,i=this.goodsIds;if(e=0==e?1:0,o){for(var l in s.shop)s.shop[l].isSelect=e,n.push(s.shop[l].rec_id);e||n.splice(0,n.length)}else{for(var c in s.goods)s.goods[c].isSelect=e,i.push(s.goods[c].rec_id);e||i.splice(0,i.length)}this.isSelectAll=e,this.dataObj=s},selectOne:function(t){var e=t,s=this.dataObj,o=this.curr,n=this.shopIds,i=this.goodsIds,l=this.isSelectAll;if(o){var c=this.handelSelectOne(s.shop,n,e,l);l=c}else{var r=this.handelSelectOne(s.goods,i,e,l);l=r}this.dataObj=s,this.shopIds=n,this.isSelectAll=l},handelSelectOne:function(t,e,s,o){for(var n in t)if(n==s)if(1==t[s].isSelect){t[s].isSelect=0;var i=e.findIndex(function(e){return e==t[s].rec_id});e.splice(i,1),o=0}else t[s].isSelect=1,e.push(t[s].rec_id),t.length==e.length&&(o=1);return o},handleDelete:function(){var e=this.dataObj,s=this.curr,o=this.shopIds,i=this.goodsIds,l=this;if(s)var c=o;else c=i;t.showModal({title:"提示",content:"确认删除该收藏？",success:function(t){if(t.confirm){for(var o in c)if(s)for(var i in e.shop)c[o]==e.shop[i].rec_id&&(e.shop.splice(i,1),n.delCollect(c[o]));else for(var r in e.goods)c[o]==e.goods[r].rec_id&&(e.goods.splice(r,1),n.delCollect(c[o]));l.dataObj=e}}})}}};e.default=r}).call(this,s("6e42")["default"])},"642e":function(t,e,s){"use strict";var o=s("a4c9"),n=s.n(o);n.a},"65df":function(t,e,s){"use strict";s.r(e);var o=s("fc30"),n=s("4c85");for(var i in n)"default"!==i&&function(t){s.d(e,t,function(){return n[t]})}(i);s("642e");var l=s("2877"),c=Object(l["a"])(n["default"],o["a"],o["b"],!1,null,null,null);e["default"]=c.exports},a4c9:function(t,e,s){},fc30:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},n=[];s.d(e,"a",function(){return o}),s.d(e,"b",function(){return n})}},[["09b9","common/runtime","common/vendor"]]]);