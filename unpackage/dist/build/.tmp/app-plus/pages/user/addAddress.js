(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/addAddress"],{"4bbb":function(t,e,i){},"59ca":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})},"89c8":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("2355"),a=new s.UserModel,o={data:function(){return{allCityList:[],cityArray:[],citysIndex:[0,0,0],cityId:[],selectCityId:[2,52,500],nameValue:"",phoneValue:"",textareaValue:"",switchValue:!0,province:2,city:52,district:500,id:0,done:0}},onLoad:function(e){var i=this;if(e.done){this.orderId=e.orderid,this.shopId=e.shopid,this.done=1,this.id=0}else{var n=e.id;this.id=n}var s=this;a.getRegion(function(e){var n=i.allCityList;n=e,s.allCityList=n,s.cityArray=n;var o=i.id;if(0!=o)a.getAddress(o,function(e){console.log(t(e," at pages\\user\\addAddress.vue:116"));var n=[e.province,e.city,e.district],o=s.getIndex(n);s.nameValue=e.consignee,s.phoneValue=e.mobile,s.textareaValue=e.init_address,s.switchValue=e.defaultAddr,s.citysIndex=o,a.getRegion(function(t){var e=[[],[],[]],n=[[],[],[]],a=i.citysIndex,o=i.province,c=i.city,r=i.district;t.forEach(function(t){e[0].push(t.name),n[0].push(t.id),o=n[0][a[0]]}),t[a[0]]["son"].forEach(function(t){e[1].push(t.name),n[1].push(t.id),c=n[1][a[1]]}),t[a[0]]["son"][a[1]]["son"].forEach(function(t){e[2].push(t.name),n[2].push(t.id),r=n[2][a[2]]}),s.cityArray=e,s.cityId=n,s.allCityList=t,s.province=o,s.city=c,s.district=r})});else{var c=i.citysIndex;a.getRegion(function(t){var e=[[],[],[]],i=[[],[],[]];t.forEach(function(t){e[0].push(t.name),i[0].push(t.id)}),t[c[0]]["son"].forEach(function(t){e[1].push(t.name),i[1].push(t.id)}),t[c[0]]["son"][c[1]]["son"].forEach(function(t){e[2].push(t.name),i[2].push(t.id)}),s.cityArray=e,s.cityId=i,s.allCityList=t})}})},methods:{changeName:function(t){this.nameValue=t.detail.value},checkPhoneNum:function(t){var e=t.detail.value;if(11==e.length){var i=/^1\d{10}$/;i.test(e)?this.phoneValue=e:(n.showToast({title:"手机号不正确",icon:"none"}),e="",this.phoneValue=e)}},citysChange:function(e){console.log(t(e," at pages\\user\\addAddress.vue:265")),this.citysIndex=e.detail.value},cityColumnChange:function(t){var e=t.detail.column,i=t.detail.value,n=this.allCityList,s=(this.cityId,this.cityArray),a=this.citysIndex,o=this.province,c=this.city,r=this.district,d=[],u=[];switch(e){case 0:n[i].son.forEach(function(t){d.push(t.name)}),n[i].son[0].son.forEach(function(t){u.push(t.name)}),a[0]=i,a[1]=0,a[2]=0,s[1]=d,s[2]=u,this.cityArray=s,this.citysIndex=a;break;case 1:n[a[0]].son[i].son.forEach(function(t){t&&u.push(t.name)}),s[2]=u,a[1]=i,a[2]=0,this.cityArray=s,this.citysIndex=a;break;case 2:a[2]=i,this.citysIndex=a;break}o=n[a[0]].id,c=n[a[0]].son[a[1]].id,r=n[a[0]].son[a[1]].son[a[2]]?n[a[0]].son[a[1]].son[a[2]].id:0,this.province=o,this.city=c,this.district=r},changeTextarea:function(t){this.textareaValue=t.detail.value},switch1Change:function(t){this.switchValue=t.detail.value},submitForm:function(e){var i=this,s=this.nameValue,o=this.phoneValue,c=this.textareaValue,r=this.switchValue;this.selectCityId;if(""==s)n.showToast({title:"请填写您的姓名",icon:"none",duration:2e3});else if(""==o)n.showToast({title:"请填写正确的手机号码",icon:"none",duration:2e3});else if(""==c)n.showToast({title:"请填写您的详细地址",icon:"none",duration:2e3});else{var d=this.province,u=this.city,l=this.district,h=this.id,f={address_id:h,mobile:o,consignee:s,province:d,city:u,district:l,address:c,anniu:r};a.addAddress(f,function(e){console.log(t(e," at pages\\user\\addAddress.vue:416")),0!=e.error?n.showToast({title:e.errmsg}):1==i.done?n.redirectTo({url:"/pages/submitOrders?id=".concat(i.orderId,"&shopid=").concat(i.shopId)}):n.navigateTo({url:"/pages/user/address"})})}},getIndex:function(t){for(var e=[],i=this.allCityList,n=0;n<i.length;n++)if(i[n].id==t[0]){e[0]=n;for(var s=0;s<i[n].son.length;s++)if(i[n].son[s].id==t[1]){e[1]=s;for(var a=0;a<i[n].son[s].son.length;a++)i[n].son[s].son[a].id==t[2]&&(e[2]=a)}}return e}}};e.default=o}).call(this,i("0de9")["default"],i("6e42")["default"])},"8bb5":function(t,e,i){"use strict";i.r(e);var n=i("59ca"),s=i("decc");for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);i("b7e4");var o=i("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,"46dfb860",null);e["default"]=c.exports},b7e4:function(t,e,i){"use strict";var n=i("4bbb"),s=i.n(n);s.a},decc:function(t,e,i){"use strict";i.r(e);var n=i("89c8"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=s.a},f9b3:function(t,e,i){"use strict";(function(t){i("3e9c"),i("921b");n(i("66fd"));var e=n(i("8bb5"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])}},[["f9b3","common/runtime","common/vendor"]]]);